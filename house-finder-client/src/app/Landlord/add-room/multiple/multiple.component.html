<div class="container-fluid p-3 border border-top-0">
    <div class="row">
        <!-- Action Buttons & Instructions -->
        <div class="col-7">
            <!-- Action Buttons -->
            <div class="row">
                <div class="col-3">
                </div>
                <div class="col-6">
                    <div class="row">
                        <!-- Download template -->
                        <div class="row my-2">
                            <button type="button" class="btn btn-secondary btn-lg form-control"
                                (click)="downloadTemplate()">
                                <span class="me-3"><i class="fa-solid fa-download"></i></span>
                                Tải xuống mẫu điền thông tin phòng trọ
                            </button>
                        </div>

                        <!-- Upload excel file -->
                        <div class="row my-2">
                            <button type="button" class="btn btn-secondary btn-lg form-control">
                                <label for="room-data-file">
                                    <span class="me-3"><i class="fa-solid fa-upload"></i></span>
                                    Tải lên thông tin phòng trọ
                                </label>
                            </button>
                            <input type="file" id="room-data-file" class="d-none" accept=".xlsx"
                                (change)="onTemplateChange($event)" />
                        </div>

                        <!-- Upload image folder -->
                        <div class="row my-2">
                            <button type="button" class="btn btn-secondary btn-lg form-control">
                                <label for="room-images">
                                    <span class="me-3"><i class="fa-solid fa-upload"></i></span>
                                    Tải lên thư mục ảnh phòng trọ
                                </label>
                            </button>
                            <input type="file" id="room-images" class="d-none" accept="image/*"
                                (change)="onImagesChange($event)" webkitdirectory />
                        </div>
                    </div>
                </div>
                <div class="col-3"></div>
            </div>

            <!-- Instruction -->
            <div class="row mt-4">
                <div class="col">
                    <h5>
                        Hướng dẫn:
                    </h5>
                    <ol>
                        <li>
                            Bấm nút <b>Tải xuống mẫu điền thông tin phòng trọ</b> để tải file Excel.
                        </li>
                        <li>
                            Điền các thông tin của từng phòng trọ vào file Excel. Ví dụ:
                            <br>
                            <img src="../../../../assets/image/SampleTemplateExcel.png" width="95%">
                        </li>
                        <li>
                            Bấm nút <b>Tải lên thông tin phòng trọ</b> và chọn file Excel bạn vừa điền.
                        </li>
                        <li>
                            Cho tất cả ảnh phòng trọ vào chung 1 thư mục (mỗi phòng trọ phải có tối thiểu 3 ảnh).
                            <br>
                            Đặt tên từng ảnh theo cú pháp:
                            <br>
                            <b><i>[Tên phòng]-[Số toà nhà]-[Số tầng]-[Số thứ tự của ảnh]</i></b>
                            <br>
                            &nbsp; Ví dụ:
                            <br>
                            &nbsp;&nbsp; Bức ảnh thứ 3 của phòng 202, tòa nhà 1, tầng 1:
                            <br>
                            &nbsp;&nbsp; <i>202-1-1-3.jpg</i>
                        </li>
                        <li>
                            Bấm nút <b>Tải lên thư mục ảnh phòng trọ</b> và chọn thư mục chứa tất cả ảnh đó.
                        </li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Result boxes -->
        <div class="col-5">
            <!-- Progress bar -->
            <div class="row my-2">
                <div class="col" [ngClass]="{'invisible' : !progressDisplay}">
                    <mat-progress-bar class="row mt-3" id="resultProgressBar" mode="determinate"
                        [value]="matProgressBarValue"></mat-progress-bar>
                </div>
            </div>

            <!-- Result: upload file -->
            <div class="row my-2">
                <div class="col border border-1 rounded" id="resultUploadFile" #templateFile>{{file.name}}</div>
            </div>

            <!-- Result: upload folder image -->
            <div class="row my-2">
                <div class="col">
                    <div class="row border border-1 rounded" id="resultUploadFolder" #imageFiles>
                        <!-- Image item -->
                        <div class="col-5 m-2 border border-1 rounded" id="resultImageItem"
                            *ngFor="let image of imageNames">{{image}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Alerts -->
<!-- <swal #serverErrorAlert [toast]="true" position="top-end" [timer]="3000" [timerProgressBar]="true" title="Lỗi Server"
    icon="error">
</swal>
<swal #dataAndImageNotFound [toast]="true" position="top-end" [timer]="3000" [timerProgressBar]="true"
    title="Thông tin phòng của ảnh không có trong dữ liệu được upload" icon="error">
</swal>
<swal #uploadSuccess title="Upload thành công" text="Bạn đã upload thành công thông tin nhà trọ!" icon="success"
    [focusCancel]="true">
</swal> -->
<swal #uploadSuccess title="Đăng tải thành công" text="Bạn đã đăng tải thông tin phòng trọ thành công." icon="success"
    [focusCancel]="true" (confirm)="backToPreviousPage()">
</swal>